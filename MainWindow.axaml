<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="500"
        x:Class="MyApp.MainWindow"
        Title="AI Test Procedures Creator"
        Width="800" Height="500"
        MinWidth="600" MinHeight="500"
        Background="Transparent">
    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Top content area contains Welcome and Converter views -->
        <Grid Grid.Row="0">
            <!-- Welcome view (shown first) -->
            <Grid x:Name="WelcomeGrid" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                <Grid.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                        <GradientStop Color="Black" Offset="0.0"/>
                        <GradientStop Color="#1a3f40" Offset="0.8"/>
                        <GradientStop Color="#327e80" Offset="1.0"/>
                    </LinearGradientBrush>
                </Grid.Background>
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="20">
                    <TextBlock Text="Welcome to AI Test Procedures Creator" FontSize="36" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
                    <TextBlock Text="Create test proceudres for PCBs given hardware/software specifications and Netlist/BOM" FontSize="16" Foreground="White" HorizontalAlignment="Center"/>
                    <Button Content="Open Creator" Padding="20,10" Click="OpenConverter_Click" HorizontalAlignment="Center"/>
                    <!-- Aeronix link -->
                    <Button Content="Learn more about Aeronix" FontSize="12" Foreground="White" Background="Transparent" BorderThickness="0" Padding="0" Click="AeronixLink_Click"  HorizontalAlignment="Center"/>
                </StackPanel>
                
            </Grid>

            <!-- Converter view (hidden initially) -->
            <Grid x:Name="ConverterGrid" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsVisible="False">
                <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                    <Grid>
                        <Grid.Background>
                            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                <GradientStop Color="Black" Offset="0.0"/>
                                <GradientStop Color="#1a3f40" Offset="0.8"/>
                                <GradientStop Color="#327e80" Offset="1.0"/>
                            </LinearGradientBrush>
                        </Grid.Background>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Back button for converter view -->
                        <Button Grid.Row="0" Content="Back" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="20" Click="BackToWelcome_Click"/>

                        <!-- UF HACKATHON Text -->
                        <TextBlock Grid.Row="1" Text="UF AERONIX HACKATHON" FontSize="40" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" Margin="20,20,20,10"/>

                        <!-- Title -->
                        <TextBlock Grid.Row="2" Text="AI Test Procedures Creator" FontSize="32" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" Margin="20,0,20,20"/>

                        <!-- File Selection Section -->
                        <Border x:Name="FileSelectionBorder" Grid.Row="3" Background="#327e80" CornerRadius="8" Padding="15" Margin="20,0,20,15" HorizontalAlignment="Center" MinWidth="500">
                            <StackPanel>
                                <TextBlock Text="Select Specifications Documents and Netlist/BOM" FontSize="16" FontWeight="SemiBold" Foreground="White" Margin="0,0,0,10"/>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <ScrollViewer Grid.Column="0" x:Name="FileScrollViewer" MaxHeight="200" MinHeight="60" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Margin="0,0,10,0">
                                        <StackPanel x:Name="FileListPanel">
                                            <TextBlock x:Name="FilePathTextBox" Text="No files selected" TextWrapping="Wrap" FontSize="12" Foreground="White"/>
                                        </StackPanel>
                                    </ScrollViewer>
                                    <Button Grid.Column="1" x:Name="BrowseButton" Content="Browse" Click="BrowseButton_Click" Padding="15,8"/>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Convert Button -->
                        <Button Grid.Row="4" x:Name="ConvertButton" Content="Create Test Procedures" HorizontalAlignment="Center" Padding="20,12" FontSize="16" FontWeight="SemiBold" Background="#4CAF50" Foreground="White" CornerRadius="6" Margin="0,0,0,15" Click="ConvertButton_Click" IsEnabled="False"/>

                        <!-- Progress Section -->
                        <Border Grid.Row="5" x:Name="ProgressBorder" Background="#FF9800" CornerRadius="8" Padding="15" Margin="0,0,0,15" IsVisible="False" HorizontalAlignment="Center" MinWidth="500">
                            <StackPanel>
                                <TextBlock x:Name="ConvertingText" Text="Creating test procedures..." FontSize="14" FontWeight="SemiBold" Foreground="White" Margin="0,0,0,8"/>
                                <ProgressBar x:Name="ProgressBar" IsIndeterminate="True" Height="6"/>
                            </StackPanel>
                        </Border>

                        <!-- Result Section -->
                        <Border Grid.Row="6" x:Name="ResultBorder" Background="#E8F5E8" CornerRadius="8" Padding="15" Margin="0,0,0,15" IsVisible="False" HorizontalAlignment="Center" MinWidth="500" VerticalAlignment="Top">
                            <StackPanel>
                                <TextBlock Text="Test procedures created!" FontSize="14" FontWeight="SemiBold" Foreground="Black" Margin="0,0,0,8"/>
                                <TextBlock x:Name="ResultText" FontSize="12" Foreground="Black"/>
                            </StackPanel>
                        </Border>

                        <!-- Download Section -->
                        <StackPanel Grid.Row="7" x:Name="DownloadPanel" Orientation="Horizontal" HorizontalAlignment="Center" IsVisible="False">
                            <Button x:Name="DownloadButton" Content="Download" Padding="15,8" FontSize="14" FontWeight="SemiBold" Background="#4CAF50" Foreground="White" CornerRadius="6" Margin="0,0,10,0" Click="DownloadButton_Click"/>
                            <Button x:Name="OpenFolderButton" Content="Open Folder" Padding="15,8" FontSize="14" FontWeight="SemiBold" Background="#FF9800" Foreground="White" CornerRadius="6" Click="OpenFolderButton_Click"/>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </Grid>
        </Grid>        
    </Grid>
</Window>
